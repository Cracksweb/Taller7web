<!DOCTYPE html>
<html lang="es">
  <head>
    <title>Registro usuario</title>
    <meta name="viewport" content="width = device-width, initial-scale = 1" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.3/css/materialize.min.css"
    />
    <script
      type="text/javascript"
      src="https://code.jquery.com/jquery-2.1.1.min.js"
    ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.3/js/materialize.min.js"></script>

    <script type="text/javascript" src="validar.js"></script>

    <script
      type="text/javascript"
      src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"
    ></script>

    <script type="text/javascript" src="llama.js"> </script>

    <script type="text/javascript" >
      var xmlhttp = new XMLHttpRequest();

    xmlhttp.onreadystatechange = function()
    {
        if (this.readyState == 4 &amp;&amp; this.status == 200)
        {
            var dataArray = JSON.parse(this.responseText);
            var i, j;
            var displayData = "";
 
            for (i in dataArray.depar)
            {
                displayData += "<b>Id: </b> " + dataArray.depar[i].id + "<br>";
                displayData += "<b>departamento </b> " + dataArray.depar[i].departamento + "<br>";
                displayData += "<br><hr>";
                for (j in dataArray.depar[i].ciudades)
                {
                    
                    displayData += "<b>Ciudades </b> " + dataArray.depar[i].ciudades + "<br>";
                    displayData += "<br><hr>";
                }
            }
        }
        document.getElementById("displayData").innerHTML = displayData;
        };

    xmlhttp.open("GET", "colombia.json", true);
    xmlhttp.send();
    </script>

    <script type="text/javascript">
      function showContent() 
      {
        element = document.getElementById("nuevodiv");
        check = document.getElementById("si");
        if (check.checked) {
          element.style.display = "block";
        } else {
          element.style.display = "none";
        }
      }
    </script>

    <script type="text/javascript">
      function showContent2() {
        element2 = document.getElementById("nuevodiv2");
        check2 = document.getElementById("si2");
        if (check2.checked) {
          element2.style.display = "block";
        } else {
          element2.style.display = "none";
        }
      }
    </script>
    <script>

      function calcularedad()
      {
      fecha=document.getElementById('date').value;
      var hoy = new Date();
      var cumpleanos = new Date(fecha);
      var edad = hoy.getFullYear() - cumpleanos.getFullYear();
      var m = hoy.getMonth() - cumpleanos.getMonth();

      if (m < 0 || (m === 0 && hoy.getDate() < cumpleanos.getDate())) {
        edad--;
      }
      document.getElementById("edad").innerHTML =
        '<input type="text" placeholder="Edad" id="edad" value="' +
        edad +
        '">';
      }
    </script>

    <script>
       $(document).ready(function() {
          $('select').material_select();
       });
    </script>

  </head>

  <body class="container">
    <div class="row">
      <div class="row">
        <h2 class="left-align">Formulario del usuario</h2>
      </div>
      <form
        class="col s12"
        id="javas"
        name="javas"
        onsubmit="return validacion()"
      >
        <div class="row">
          <div class="input-field col s6">
            <i class="material-icons prefix">account_circle</i>
            <label for="idusr">Nombre Usuario</label>
            <input type="text" placeholder="Nombre usuario" id="id_usr" />
          </div>

          <div class="input-field col s6">
            <label for="idusr">Fecha de nacimiento</label><br />
            <input type="date" class="datepicker" name="autoClose" id="date" onchange="calcularedad(this)" />
          </div>
          <label for="edad">Edad</label><br />
          <div class="input-field col s6">
            <div id="edad"></div>
            
          </div>

          <div class="input-field col s6">
            <input type="text" placeholder="Nombre" id="nombre" />
            <label for="nombre">Nombre</label>
          </div>
          <div class="input-field col s6">
            <input type="text" placeholder="Apellido" id="apellido" />
            <label for="apellido">Apellido</label>
          </div>

          <div class="input-field col s6">
            <label for="password">Contraseña</label>
            <input id="contraseña" type="password" placeholder="Contraseña" />
          </div>

          <div class="input-field col s6">
            <label for="password">Confirmar Contraseña</label>
            <input id="contraseña2" type="password" placeholder="Contraseña" />
          </div>
        </div>

        <div class="row">
          <div class="input-field col s12">
            <input
              placeholder="Email"
              id="email"
              type="email"
              max.length="120"
              required
            />
            <label for="email">Email</label>
          </div>

          <div class ="input-field col s12">
            <select>
              
              <script type="text/javascript">

                $(document).on('ready',function (){
                  
                  $.getJSON('datos.json', function(data) {
                    $.each(data, function(key, value) {
                      $("datos").append('<option name="' + key + '">' + value + '</option>');
                    }); // close each()
                  }); // close getJSON()

                });

                </script>

            </select>
            <label for='text'>Departamento</label>
          </div>
        </div><br><br>

        <div class="row">
          <div class="card-action">
            <button type="submit" class="btn waves-effect waves-ligth blue">
              Guardar cambios<i class="material-icons right">cloud</i>
            </button>
          </div>
        </div>
      </form>
    </div>
  </body>
</html>
